<!DOCTYPE html>
<div style="display: flex; justify-content: center;"> 

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Standards-Based Grade Calculator</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 700px;
            margin: 50px auto;
            padding: 20px;
            background-color: #f5f5f5;
        }

        .calculator {
            background: white;
            padding: 30px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
        }

        .input-group {
            margin-bottom: 20px;
        }

        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            color: #555;
        }

        .slider-container {
            position: relative;
            margin: 20px 0;
        }

        input[type="range"] {
            width: 100%;
            height: 8px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            -webkit-appearance: none;
            margin: 10px 0;
        }

        input[type="range"]::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: blue;
            cursor: pointer;
        }

        input[type="range"]::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: grey;
            cursor: pointer;
            border: none;
        }

        .hashmarks {
            display: flex;
            justify-content: space-between;
            margin-top: 5px;
            position: relative;
        }

        .hashmark {
            position: relative;
            text-align: center;
            font-size: 12px;
            color: #666;
            font-weight: normal;
            flex: none;
        }

        .hashmark::before {
            content: '|';
            display: block;
            color: #999;
            font-size: 14px;
            margin-bottom: 2px;
        }

        .slider-value {
            display: inline-block;
            font-weight: regular;
            color: black;
            font-size: 18px;
            margin-left: 10px;
        }

        .result {
            text-align: center;
            margin-top: 30px;
            padding: 20px;
            border-radius: 5px;
            font-size: 24px;
            font-weight: bold;
        }

        .grade-A { background-color: #50c878; color: #ffffff; }
        .grade-B { background-color: orange; color: #004085; }
        .grade-C { background-color: #c040f0; color: #ffffff; }
        .grade-D { background-color: pink; color: black; }
        .grade-F { background-color: red; color: white; }

        .grade-breakdown {
            margin-top: 20px;
            padding: 15px;
            background-color: #e9ecef;
            border-radius: 5px;
            text-align: left;
            font-size: 16px;
        }

        .grading-scale {
            margin-top: 30px;
            padding: 20px;
            background-color: #f8f9fa;
            border-radius: 5px;
        }

        .grading-scale h3 {
            margin-top: 0;
            color: #333;
        }

        .grading-scale ul {
            list-style-type: none;
            padding: 0;
        }

        .grading-scale li {
            padding: 5px 0;
            border-bottom: 1px solid #eee;
        }

        .final-exam-rules {
            margin-top: 20px;
            padding: 15px;
            background-color: #fff3cd;
            border: 1px solid #ffeaa7;
            border-radius: 5px;
        }

        .final-exam-rules h4 {
            margin-top: 0;
            color: #856404;
        }

        .final-exam-rules ul {
            margin: 10px 0;
            padding-left: 20px;
        }

        .final-exam-rules li {
            margin: 5px 0;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="calculator">
        <h1>Standards-Based Grade Calculator</h1>
        
        <div class="input-group">
            <label for="coreTargets">How many CORE Learning Targets have you mastered? (out of 10)</label>
            <div class="slider-container">
                <input type="range" id="coreTargets" min="0" max="10" value="0" oninput="calculateGrade()">
                <div class="hashmarks" id="coreHashmarks"></div>
            </div>
            CORE LT =<span class="slider-value" id="coreValue">0</span>
        </div>

        <div class="input-group">
            <label for="otherTargets">How many OTHER Learning Targets have you mastered? (out of 6)</label>
            <div class="slider-container">
                <input type="range" id="otherTargets" min="0" max="6" value="0" oninput="calculateGrade()">
                <div class="hashmarks" id="otherHashmarks"></div>
            </div>
            OTHER LT =<span class="slider-value" id="otherValue">0</span>
        </div>

        <div class="input-group">
            <label for="finalExam">Final Exam Score (%)</label>
            <input type="range" id="finalExam" min="0" max="100" value="0" oninput="calculateGrade()">
            <span class="slider-value" id="finalValue">0</span>
        </div>

        <div id="result" class="result">Enter your scores above</div>
        
        <div id="gradeBreakdown" class="grade-breakdown" style="display: none;">
            <strong>Grade Calculation:</strong><br>
            <span id="initialGradeText"></span><br>
            <span id="finalExamImpact"></span>
        </div>

        <div class="grading-scale">
            <h3>Standards-Based Grading Scale:</h3>
            <ul>
                <li><strong>A:</strong> 10 CORE + 4, 5, or 6 OTHER</li>
                <li><strong>B:</strong> 10 CORE + 2 or 3 OTHER</li>
                <li><strong>C:</strong> 
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>10 CORE + 1 OTHER, OR</li>
                        <li>10 CORE (no others needed), OR</li>
                        <li>9 CORE + 4, 5, or 6 OTHER, OR</li>
                        <li>8 CORE + 5 or 6 OTHER</li>
                    </ul>
                </li>
                <li><strong>D:</strong>
                    <ul style="margin-left: 20px; margin-top: 5px;">
                        <li>9 CORE + 1, 2, or 3 OTHER, OR</li>
                        <li>8 CORE + 1, 2, 3, or 4 OTHER, OR</li>
                        <li>8 CORE (no others needed)</li>
                    </ul>
                </li>
                <li><strong>F:</strong> 7 or fewer CORE</li>
            </ul>
        </div>

        <div class="final-exam-rules">
            <h4>Final Exam Impact Rules:</h4>
            <ul>
                <li><strong>85% or higher:</strong> Grade improves by two letter grades</li>
                <li><strong>70-84%:</strong> Grade improves by one letter grade</li>
                <li><strong>60-69%:</strong> No change to grade</li>
                <li><strong>50-59%:</strong> Grade drops by one letter grade</li>
                <li><strong>Below 50%:</strong> Grade drops by two letter grades</li>
            </ul>
        </div>
    </div>

    <script>
        function createHashmarks() {
            // Create hashmarks for CORE targets (0-10)
            const coreHashmarks = document.getElementById('coreHashmarks');
            for (let i = 0; i <= 10; i++) {
                const hashmark = document.createElement('div');
                hashmark.className = 'hashmark';
                hashmark.textContent = i;
                coreHashmarks.appendChild(hashmark);
            }

            // Create hashmarks for OTHER targets (0-6)
            const otherHashmarks = document.getElementById('otherHashmarks');
            for (let i = 0; i <= 6; i++) {
                const hashmark = document.createElement('div');
                hashmark.className = 'hashmark';
                hashmark.textContent = i;
                otherHashmarks.appendChild(hashmark);
            }
        }

        function getLetterGrade(percentage) {
            if (percentage >= 90) return 'A';
            if (percentage >= 80) return 'B';
            if (percentage >= 70) return 'C';
            if (percentage >= 60) return 'D';
            return 'F';
        }

        function getGradeValue(letter) {
            const values = { 'A': 4, 'B': 3, 'C': 2, 'D': 1, 'F': 0 };
            return values[letter];
        }

        function adjustGrade(originalGrade, adjustment) {
            const gradeOrder = ['F', 'D', 'C', 'B', 'A'];
            const currentIndex = gradeOrder.indexOf(originalGrade);
            const newIndex = Math.max(0, Math.min(4, currentIndex + adjustment));
            return gradeOrder[newIndex];
        }

        function calculateStandardsGrade(core, other) {
            if (core <= 7) {
                return 'F';
            } else if (core === 8) {
                if (other >= 5) {
                    return 'C';
                } else if (other >= 1) {
                    return 'D';
                } else {
                    return 'D';
                }
            } else if (core === 9) {
                if (other >= 4) {
                    return 'C';
                } else if (other >= 1) {
                    return 'D';
                } else {
                    return 'F';
                }
            } else if (core === 10) {
                if (other >= 4) {
                    return 'A';
                } else if (other >= 2) {
                    return 'B';
                } else {
                    return 'C';
                }
            } else {
                return 'F';
            }
        }

        function calculateGrade() {
            const core = parseInt(document.getElementById('coreTargets').value) || 0;
            const other = parseInt(document.getElementById('otherTargets').value) || 0;
            const finalExam = parseInt(document.getElementById('finalExam').value) || 0;
            const resultDiv = document.getElementById('result');
            const breakdownDiv = document.getElementById('gradeBreakdown');
            
            // Update slider value displays
            document.getElementById('coreValue').textContent = core;
            document.getElementById('otherValue').textContent = other;
            document.getElementById('finalValue').textContent = finalExam + '%';
            
            // Calculate initial grade based on standards
            const initialGrade = calculateStandardsGrade(core, other);
            
            // Apply new final exam rules
            let finalGrade;
            let adjustment = 0;
            
            if (finalExam >= 85) {
                // Improve by two letter grades
                adjustment = 2;
            } else if (finalExam >= 70) {
                // Improve by one letter grade
                adjustment = 1;
            } else if (finalExam >= 60) {
                // No change
                adjustment = 0;
            } else if (finalExam >= 50) {
                // Drop by one letter grade
                adjustment = -1;
            } else if (finalExam < 50) {
                // Drop by two letter grades
                adjustment = -2;
            }
            
            finalGrade = adjustGrade(initialGrade, adjustment);
            
            let gradeClass = '';
            switch(finalGrade) {
                case 'A': gradeClass = 'grade-A'; break;
                case 'B': gradeClass = 'grade-B'; break;
                case 'C': gradeClass = 'grade-C'; break;
                case 'D': gradeClass = 'grade-D'; break;
                case 'F': gradeClass = 'grade-F'; break;
            }
            
            resultDiv.className = `result ${gradeClass}`;
            resultDiv.textContent = `Your Final Grade: ${finalGrade}`;
            
            // Show breakdown
            breakdownDiv.style.display = 'block';
            document.getElementById('initialGradeText').textContent = 
                `Standards-based grade: ${initialGrade} (${core} CORE + ${other} OTHER)`;
            
            // Determine impact text
            const finalExamGrade = getLetterGrade(finalExam);
            let impactText = `Final exam: ${finalExam}% (${finalExamGrade}) - `;
            
            if (adjustment > 0) {
                impactText += `Grade improved from ${initialGrade} to ${finalGrade}! (+${adjustment} letter grade${adjustment > 1 ? 's' : ''})`;
            } else if (adjustment < 0) {
                impactText += `Grade lowered from ${initialGrade} to ${finalGrade} (${adjustment} letter grade${Math.abs(adjustment) > 1 ? 's' : ''})`;
            } else {
                impactText += `Grade remained ${finalGrade} (no change)`;
            }
            
            document.getElementById('finalExamImpact').textContent = impactText;
        }

        // Initialize hashmarks and calculate initial grade
        createHashmarks();
        calculateGrade();
    </script>
</body>
</div>
</html>
